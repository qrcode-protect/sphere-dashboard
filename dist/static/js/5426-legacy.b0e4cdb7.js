"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[5426,3278,7305,2158],{37670:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{c:function(){return useForm}});var _mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95082);var vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2262);var _app_commons_validation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(81909);var useForm=function useForm(){var state=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({error:null,success:null,errors:[],loading:false});var validator=function validator(data){var _result$errors;var result=(0,_app_commons_validation__WEBPACK_IMPORTED_MODULE_1__.sC)(data);state.errors=(_result$errors=result.errors)!==null&&_result$errors!==void 0?_result$errors:[];state.error=result.error;return result.valid};var setLoading=function setLoading(value){return state.loading=value};var setError=function setError(value){return state.error=value};var setSuccess=function setSuccess(value){return state.success=value};return(0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},(0,vue__WEBPACK_IMPORTED_MODULE_2__.BK)(state)),{},{validator:validator,setLoading:setLoading,setError:setError,setSuccess:setSuccess})}},27305:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_next_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var _hoisted_1={class:"btn color-2 pr-0",type:"button"};function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-next-button","not-full":"",onClick:_cache[0]||(_cache[0]=function($event){return _ctx.$emit("next")})},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-right",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",_hoisted_1,[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.text)+" ",1),(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-right",light:""})])]})),_:1})]})),_:1})]})),_:1})}var form_next_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-next-button",emits:["next"],props:{text:{type:String,required:false,default:"Suivant"}},setup:function setup(){return{}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_next_buttonvue_type_script_lang_ts,[["render",render]]);var form_next_button=__exports__},42158:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_prev_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var _hoisted_1={class:"btn color-2 pl-0",type:"button"};var _hoisted_2=(0,runtime_core_esm_bundler.Uk)(" Précedent ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-prev-button","not-full":"",onClick:_cache[0]||(_cache[0]=function($event){return _ctx.$emit("prev")})},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-left",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",_hoisted_1,[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-left",light:""}),_hoisted_2])]})),_:1})]})),_:1})]})),_:1})}var form_prev_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-prev-button",emits:["prev"],setup:function setup(){return{}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_prev_buttonvue_type_script_lang_ts,[["render",render]]);var form_prev_button=__exports__},35277:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_tender_address}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var _withScopeId=function _withScopeId(n){return(0,runtime_core_esm_bundler.dD)("data-v-0c626afa"),n=n(),(0,runtime_core_esm_bundler.Cn)(),n};var _hoisted_1=_withScopeId((function(){return(0,runtime_core_esm_bundler._)("i",{class:"fal fa-road fa-1x",style:{"margin-right":"5px"}},null,-1)}));var _hoisted_2=_withScopeId((function(){return(0,runtime_core_esm_bundler._)("span",null,"Adresse",-1)}));var _hoisted_3=[_hoisted_1,_hoisted_2];function render(_ctx,_cache,$props,$setup,$data,$options){var _component_GMapAutocomplete=(0,runtime_core_esm_bundler.up)("GMapAutocomplete");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_qrcp_input=(0,runtime_core_esm_bundler.up)("qrcp-input");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_form_prev_button=(0,runtime_core_esm_bundler.up)("form-prev-button");var _component_form_next_button=(0,runtime_core_esm_bundler.up)("form-next-button");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-tender-address"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{xs:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"ssf-form-group qrcp-form-group has-slot"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"ssf-input-container ssf-form-text"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("label",{class:(0,shared_esm_bundler.C_)([{active:_ctx.addressLabelActive},"label-required ssf__input-label"]),onClick:_cache[0]||(_cache[0]=function($event){return _ctx.addressLabelActive=true})},_hoisted_3,2),(0,runtime_core_esm_bundler.Wm)(_component_GMapAutocomplete,{options:{countries:["fr"]},autofocus:"",class:"ssf-form-control qrcp-form-control qrcp-form-control",inputmode:"text",name:"address",placeholder:"",onFocusin:_cache[1]||(_cache[1]=function($event){return _ctx.addressLabelActive=true}),onPlace_changed:_ctx.onSetPlace},null,8,["onPlace_changed"])]})),_:1})]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,value:_ctx.tender.address.address2,col:"col-12 col-md-12",icon:"street-view",label:"Complément d'adresse",name:"address2","onUpdate:value":_cache[2]||(_cache[2]=function(event){return _ctx.tender.address.address2=event})},null,8,["errors","value"])]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,value:_ctx.tender.address.zipcode,col:"col-12 col-md-6",icon:"mailbox",label:"Code postal",name:"zipcode",required:"","onUpdate:value":_cache[3]||(_cache[3]=function(event){return _ctx.tender.address.zipcode=event})},null,8,["errors","value"]),(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,value:_ctx.tender.address.city,col:"col-12 col-md-6",icon:"city",label:"Ville",name:"city",required:"","onUpdate:value":_cache[4]||(_cache[4]=function(event){return _ctx.tender.address.city=event})},null,8,["errors","value"])]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_form_prev_button,{onPrev:_cache[5]||(_cache[5]=function($event){return _ctx.$emit("prev")})})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_form_next_button,{onNext:_ctx.onNext},null,8,["onNext"])]})),_:1})]})),_:1})]})),_:1})}var createForOfIteratorHelper=__webpack_require__(66347);var reactivity_esm_bundler=__webpack_require__(2262);var qrcp_input=__webpack_require__(35396);var commons_form=__webpack_require__(37670);var form_next_button=__webpack_require__(27305);var form_prev_button=__webpack_require__(42158);var tender=__webpack_require__(99422);var useGoogleMapPlace=function useGoogleMapPlace(){var setPlace=function setPlace(place){var address={street_number:null,address:null,postcode:null,city:null,country:null,lat:place.geometry.location.lat(),lng:place.geometry.location.lng()};var _iterator=(0,createForOfIteratorHelper.Z)(place.address_components),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var component=_step.value;var componentType=component.types[0];switch(componentType){case"street_number":{address.street_number=component.long_name;break}case"route":{address.address=component.short_name;break}case"postal_code":{address.postcode=component.long_name;break}case"locality":address.city=component.long_name;break;case"country":address.country=component.long_name;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return address};return{setPlace:setPlace}};var form_tender_addressvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-tender-address",components:{FormPrevButton:form_prev_button["default"],FormNextButton:form_next_button["default"],QrcpInput:qrcp_input.Z},emits:["prev","next"],props:{tender:{type:tender.Z,required:true},isEdition:{type:Boolean,required:false,default:false}},setup:function setup(props,_ref){var emit=_ref.emit;var _useForm=(0,commons_form.c)(),errors=_useForm.errors,validator=_useForm.validator;var _useGoogleMapPlace=useGoogleMapPlace(),setPlace=_useGoogleMapPlace.setPlace;var onNext=function onNext(){var tenderValue=props.tender.address;return props.isEdition||validator({street_number:tenderValue.street_number,address:tenderValue.address,city:tenderValue.city,zipcode:tenderValue.zipcode})?emit("next"):null};return{errors:errors,addressLabelActive:(0,reactivity_esm_bundler.iH)(false),onNext:onNext,onSetPlace:function onSetPlace(event){var address=setPlace(event);props.tender.address.street_number=address.street_number;props.tender.address.city=address.city;props.tender.address.zipcode=address.postcode;props.tender.address.address=address.address;props.tender.address.lat=address.lat;props.tender.address.lng=address.lng}}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_tender_addressvue_type_script_lang_ts,[["render",render],["__scopeId","data-v-0c626afa"]]);var form_tender_address=__exports__}}]);