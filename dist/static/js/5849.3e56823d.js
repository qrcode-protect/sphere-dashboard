"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[5849],{75451:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Dq:function(){return articles},PM:function(){return articleGetter},Zt:function(){return fetchArticles},ug:function(){return useArticle}});var _app_vue_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7280);var _vue_reactivity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2262);var _app_modules_article_article_article_repository__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(54622);var articlesGetter="article/articles";var articleGetter="article/article";var articles=(0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_2__.Fl)((function(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters[articlesGetter]}));var currentArticle=(0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_2__.Fl)((function(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters[articleGetter]}));var fetchArticles=function fetchArticles(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(force===true||articles.value===null){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("article/fetchAll")}return null};var useArticle=function useArticle(){return{destroy:function destroy(article){return(0,_app_modules_article_article_article_repository__WEBPACK_IMPORTED_MODULE_1__._)(article)}}}},62109:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{zk:function(){return main_error.Z},P5:function(){return main_question},mE:function(){return main_success.Z},JT:function(){return main_warning.Z},Am:function(){return toast}});var sweetalert2_all=__webpack_require__(86455);var sweetalert2_all_default=__webpack_require__.n(sweetalert2_all);var main_success=__webpack_require__(25371);var main_error=__webpack_require__(76494);var main_warning=__webpack_require__(87464);var config=__webpack_require__(48836);var _SwalConfig$customCla,_SwalConfig$customCla2,_SwalConfig$customCla3;var main_question_config={icon:"question",title:"Attention",text:"Êtes-vous sûr(e) de vouloir faire ça ?",customClass:{title:(_SwalConfig$customCla=config.Z.customClass.title)!==null&&_SwalConfig$customCla!==void 0?_SwalConfig$customCla:"",content:(_SwalConfig$customCla2=config.Z.customClass.content)!==null&&_SwalConfig$customCla2!==void 0?_SwalConfig$customCla2:"",popup:(_SwalConfig$customCla3=config.Z.customClass.popup)!==null&&_SwalConfig$customCla3!==void 0?_SwalConfig$customCla3:"",confirmButton:"bg-danger"},confirmButtonText:"Oui, continuer",cancelButtonText:"Annuler",showCancelButton:true};var MainQuestion=sweetalert2_all_default().mixin(main_question_config);var main_question=MainQuestion;var toast=function toast(text){var timer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5e3;return sweetalert2_all_default().fire({icon:"success",text:text,toast:true,position:"bottom-end",timer:timer,timerProgressBar:true,showConfirmButton:false,customClass:{icon:"ssf-toast-icon-small"}})}},48836:function(__unused_webpack_module,__webpack_exports__){var config={customClass:{title:"open-sans",content:"open-sans",popup:"p-0 rounded",confirmButton:"btn-block rounded py-3"},confirmButtonText:"J'ai compris"};__webpack_exports__["Z"]=config},76494:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48836);var sweetalert2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86455);var sweetalert2__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_1__);var config={icon:"error",title:"Oups...",text:"Une erreur est survenue, merci de réessayer plus tard",customClass:{title:_config__WEBPACK_IMPORTED_MODULE_0__.Z.customClass.title,content:_config__WEBPACK_IMPORTED_MODULE_0__.Z.customClass.content,popup:_config__WEBPACK_IMPORTED_MODULE_0__.Z.customClass.popup,confirmButton:"".concat(_config__WEBPACK_IMPORTED_MODULE_0__.Z.customClass.confirmButton," danger-color-dark")},confirmButtonText:"J'ai compris"};var MainError=sweetalert2__WEBPACK_IMPORTED_MODULE_1___default().mixin(config);__webpack_exports__["Z"]=MainError},25371:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var sweetalert2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86455);var sweetalert2__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_0__);var _config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48836);var config={icon:"success",title:"Réussi",text:"L'action s'est terminée avec succès",customClass:{title:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.title,content:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.content,popup:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.popup,confirmButton:"".concat(_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.confirmButton," success-color-dark")},confirmButtonText:"J'ai compris"};var MainSuccess=sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().mixin(config);__webpack_exports__["Z"]=MainSuccess},87464:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var sweetalert2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86455);var sweetalert2__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_0__);var _config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48836);var config={icon:"warning",title:"Attention",text:"Êtes-vous sûr(e) de vouloir faire ça ?",customClass:{title:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.title,content:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.content,popup:_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.popup,confirmButton:"".concat(_config__WEBPACK_IMPORTED_MODULE_1__.Z.customClass.confirmButton," warning-color-dark")},confirmButtonText:"J'ai compris"};var MainWarning=sweetalert2__WEBPACK_IMPORTED_MODULE_0___default().mixin(config);__webpack_exports__["Z"]=MainWarning},55849:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return article_preview}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var runtime_dom_esm_bundler=__webpack_require__(49963);var _withScopeId=function _withScopeId(n){return _pushScopeId("data-v-6d8d9c79"),n=n(),_popScopeId(),n};var _hoisted_1=["src"];function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");var _component_ssf_title=(0,runtime_core_esm_bundler.up)("ssf-title");var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_shape=(0,runtime_core_esm_bundler.up)("ssf-shape");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{class:"rounded cursor-pointer position-relative full-flex",name:"article-preview",onClick:_ctx.showEditForm},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("img",{src:_ctx.article.image,alt:"Image article",class:"img-fluid rounded"},null,8,_hoisted_1),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"full-absolute bg-color-1",style:{"z-index":"1",opacity:".5"}}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"full-absolute text-white full-flex",style:{"z-index":"2"}},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_title,{center:""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.article.title),1)]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"full-absolute justify-flex align-items-end py-3",style:{"z-index":"15"}},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_shape,{center:"",circle:"",class:"delete-icon bg-white",size:"40",onClick:(0,runtime_dom_esm_bundler.iM)(_ctx.destroyArticle,["stop","prevent"])},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"trash-alt",light:"",size:"1x5"})]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["onClick"])}var article=__webpack_require__(37071);var lodash=__webpack_require__(96486);var vuex_esm_bundler=__webpack_require__(33907);var vue_router_esm_bundler=__webpack_require__(42119);var swal=__webpack_require__(62109);var articles=__webpack_require__(75451);var article_previewvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"article-preview",props:{article:{type:article.Z,required:true}},emits:["deleted"],setup:function setup(props,_ref){var emit=_ref.emit;var store=(0,vuex_esm_bundler.oR)();var router=(0,vue_router_esm_bundler.tv)();var showEditForm=function showEditForm(){store.commit("article/SET_ARTICLE",props.article);router.push({name:"articles.edit"})};var _useArticle=(0,articles.ug)(),destroy=_useArticle.destroy;return{preview:(0,runtime_core_esm_bundler.Fl)((function(){return(0,lodash.map)(props.article.paragraphs,(function(item){return item.content})).join(" ").substring(0,500)})),showEditForm:showEditForm,destroyArticle:function destroyArticle(){return swal.P5.fire({html:'Êtes-vous sûr(e) de vouloir supprimer cet article ? <span class="secondary-item-small">(Cette action est irreversible)</span>'}).then((function(answer){return answer.value?destroy(props.article).then((function(){return emit("deleted")})):false}))}}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(article_previewvue_type_script_lang_ts,[["render",render],["__scopeId","data-v-6d8d9c79"]]);var article_preview=__exports__}}]);