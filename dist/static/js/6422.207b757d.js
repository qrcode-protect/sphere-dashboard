"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[6422,3278,7305,2158],{9952:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ze:function(){return isPdf}});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96486);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _app_commons_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18416);var filename=function filename(fullPath){var _fullPath$replace;return defined(fullPath)?(_fullPath$replace=fullPath===null||fullPath===void 0?void 0:fullPath.replace(/^.*[\\\/]/,""))!==null&&_fullPath$replace!==void 0?_fullPath$replace:"":null};var extension=function extension(fullPath,withDot){var _filename$split$pop,_filename,_filename$split;return defined(fullPath)?(withDot===true?".":"")+((_filename$split$pop=(_filename=filename(fullPath))===null||_filename===void 0?void 0:(_filename$split=_filename.split("."))===null||_filename$split===void 0?void 0:_filename$split.pop())!==null&&_filename$split$pop!==void 0?_filename$split$pop:""):null};var isMimeType=function isMimeType(fileMimeType,target){var strict=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return strict?fileMimeType===target:(0,lodash__WEBPACK_IMPORTED_MODULE_0__.includes)(fileMimeType,target)};var isPdf=function isPdf(mimeType){return isMimeType(mimeType,"application/pdf")};var isImage=function isImage(mimeType){return isMimeType(mimeType,"image")};var fileIcon=function fileIcon(filename){var _icons$_extension;var _extension=extension(filename),icons={pdf:"file-pdf",doc:"file-word",docx:"file-word",csv:"file-csv",xls:"file-excel",xlsx:"file-excel",zip:"file-archive",gz:"file-archive",tar:"file-archive",rar:"file-archive","7z":"file-archive",jpg:"file-image",png:"file-image",gif:"file-image",txt:"file-lines"};return _extension?(_icons$_extension=icons[_extension])!==null&&_icons$_extension!==void 0?_icons$_extension:"file":"file"};var humanizeSize=function humanizeSize(size){var unit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return size===null||typeof size==="undefined"?0:size/1e3<1e3?Number((size/1e3).toFixed(1))+(unit?" Ko":""):size/1e3/1e3<1e3?Number((size/1e3/1e3).toFixed(1))+(unit?" Mo":""):Number((size/1e3/1e3/1e3).toFixed(1))+(unit?" Go":"")}},37670:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{c:function(){return useForm}});var _mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95082);var vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2262);var _app_commons_validation__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(81909);var useForm=function useForm(){var state=(0,vue__WEBPACK_IMPORTED_MODULE_1__.qj)({error:null,success:null,errors:[],loading:false});var validator=function validator(data){var _result$errors;var result=(0,_app_commons_validation__WEBPACK_IMPORTED_MODULE_0__.sC)(data);state.errors=(_result$errors=result.errors)!==null&&_result$errors!==void 0?_result$errors:[];state.error=result.error;return result.valid};var setLoading=function setLoading(value){return state.loading=value};var setError=function setError(value){return state.error=value};var setSuccess=function setSuccess(value){return state.success=value};return(0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},(0,vue__WEBPACK_IMPORTED_MODULE_1__.BK)(state)),{},{validator:validator,setLoading:setLoading,setError:setError,setSuccess:setSuccess})}},27305:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_next_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var _hoisted_1={class:"btn color-2 pr-0",type:"button"};function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-next-button","not-full":"",onClick:_cache[0]||(_cache[0]=function($event){return _ctx.$emit("next")})},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-right",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",_hoisted_1,[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.text)+" ",1),(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-right",light:""})])]})),_:1})]})),_:1})]})),_:1})}var form_next_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-next-button",emits:["next"],props:{text:{type:String,required:false,default:"Suivant"}},setup:function setup(){return{}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_next_buttonvue_type_script_lang_ts,[["render",render]]);var form_next_button=__exports__},42158:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_prev_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var _hoisted_1={class:"btn color-2 pl-0",type:"button"};var _hoisted_2=(0,runtime_core_esm_bundler.Uk)(" PrÃ©cedent ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-prev-button","not-full":"",onClick:_cache[0]||(_cache[0]=function($event){return _ctx.$emit("prev")})},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-left",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",_hoisted_1,[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-left",light:""}),_hoisted_2])]})),_:1})]})),_:1})]})),_:1})}var form_prev_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-prev-button",emits:["prev"],setup:function setup(){return{}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_prev_buttonvue_type_script_lang_ts,[["render",render]]);var form_prev_button=__exports__},44580:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return form_tender_documents}});var runtime_core_esm_bundler=__webpack_require__(66252);function render(_ctx,_cache,$props,$setup,$data,$options){var _component_qrcp_input=(0,runtime_core_esm_bundler.up)("qrcp-input");var _component_form_prev_button=(0,runtime_core_esm_bundler.up)("form-prev-button");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_form_next_button=(0,runtime_core_esm_bundler.up)("form-next-button");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"form-tender-documents"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_ctx.showInputFile?((0,runtime_core_esm_bundler.wg)(true),(0,runtime_core_esm_bundler.iD)(runtime_core_esm_bundler.HY,{key:0},(0,runtime_core_esm_bundler.Ko)(_ctx.documents,(function(_document){return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_qrcp_input,{errors:_ctx.errors,label:_document.label,name:_document.key,required:_document.required,value:_ctx.tender[_document.key],icon:"file-pdf",mimes:"jpg, jpeg, png, gif, pdf",row:"",type:"file",onChange:_ctx.onFileChange},null,8,["errors","label","name","required","value","onChange"])})),256)):(0,runtime_core_esm_bundler.kq)("",true),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_form_prev_button,{onPrev:_cache[0]||(_cache[0]=function($event){return _ctx.$emit("prev")})})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_form_next_button,{onNext:_ctx.onNext,text:"Enregistrer"},null,8,["onNext"])]})),_:1})]})),_:1})]})),_:1})}var reactivity_esm_bundler=__webpack_require__(2262);var qrcp_input=__webpack_require__(50918);var commons_form=__webpack_require__(37670);var form_next_button=__webpack_require__(27305);var form_prev_button=__webpack_require__(42158);var objectSpread2=__webpack_require__(95082);var commons_file=__webpack_require__(9952);var commons=__webpack_require__(18416);var useFormFile=function useFormFile(){var state=(0,reactivity_esm_bundler.qj)({showInputFile:true,isFilePdf:null,fileUrl:null,file:null});var onFileChange=function onFileChange(e){var _,_files;var event=e||window.event,file=(_=((_files=(event.target||event.dataTransfer).files)!==null&&_files!==void 0?_files:[])[0])!==null&&_!==void 0?_:null;state.isFilePdf=(0,commons_file.Ze)(file===null||file===void 0?void 0:file.type);state.fileUrl=(0,commons.ri)(file)&&!state.isFilePdf?URL.createObjectURL(file):null;state.file=file};return(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,reactivity_esm_bundler.BK)(state)),{},{onFileChange:onFileChange})};var tender=__webpack_require__(99422);var form_tender_documentsvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"form-tender-documents",components:{FormPrevButton:form_prev_button["default"],FormNextButton:form_next_button["default"],QrcpInput:qrcp_input.Z},emits:["next","prev"],props:{tender:{type:tender.Z,required:true},isEdition:{type:Boolean,required:false,default:false}},setup:function setup(props,_ref){var emit=_ref.emit;var _useForm=(0,commons_form.c)(),errors=_useForm.errors,validator=_useForm.validator;var _useFormFile=useFormFile(),showInputFile=_useFormFile.showInputFile,onFileChange=_useFormFile.onFileChange,file=_useFormFile.file;var documents=(0,reactivity_esm_bundler.iH)([{key:"file",required:true,label:"Appel d'offres"}]);var onNext=function onNext(){var tenderValue=props.tender;return props.isEdition||validator({file:tenderValue.file})?emit("next"):null};(0,runtime_core_esm_bundler.YP)((function(){return file.value}),(function(){return props.tender.file=file.value}),{immediate:true});return{errors:errors,onNext:onNext,documents:documents,showInputFile:showInputFile,onFileChange:onFileChange}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(form_tender_documentsvue_type_script_lang_ts,[["render",render],["__scopeId","data-v-1f06f943"]]);var form_tender_documents=__exports__}}]);