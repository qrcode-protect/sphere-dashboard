"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[1004,1964,3504,8001],{42116:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{i:function(){return fetchActivities},t:function(){return activities}});var _app_vue_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7280);var _vue_reactivity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2262);var activities=(0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_1__.Fl)((function(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters["activity/activities"]}));var fetchActivities=function fetchActivities(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(force===true||activities.value===null){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("activity/fetchAll")}return null}},91325:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return useActivity}});var _mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95082);var vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2262);var _app_modules_activity_activity_repository__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19296);var useActivity=function useActivity(){var state=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({activity:null});var fetchActivityById=function fetchActivityById(activityId){return(0,_app_modules_activity_activity_repository__WEBPACK_IMPORTED_MODULE_1__.g)(activityId)};return(0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_mnt_c_Users_sofiane_Documents_IT_Projects_sphere_dashboard_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},(0,vue__WEBPACK_IMPORTED_MODULE_2__.BK)(state)),{},{fetchActivityById:fetchActivityById})}},81004:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return company_informations}});var es_array_includes=__webpack_require__(26699);var es_string_includes=__webpack_require__(32023);var es_symbol=__webpack_require__(82526);var es_symbol_description=__webpack_require__(41817);var runtime_core_esm_bundler=__webpack_require__(66252);var _hoisted_1=(0,runtime_core_esm_bundler.Uk)("Sous-domaines d'activités");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_qrcp_input=(0,runtime_core_esm_bundler.up)("qrcp-input");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_title=(0,runtime_core_esm_bundler.up)("ssf-title");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");var _component_subdomain_checkbox=(0,runtime_core_esm_bundler.up)("subdomain-checkbox");var _component_previous_button=(0,runtime_core_esm_bundler.up)("previous-button");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_next_button=(0,runtime_core_esm_bundler.up)("next-button");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{name:"step-company-information"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,value:_ctx.partner.companyName,col:"col-12 col-md-8",icon:"building",label:"Nom commercial",name:"companyName",required:"","onUpdate:value":_cache[0]||(_cache[0]=function(event){return _ctx.partner.companyName=event})},null,8,["errors","value"]),(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,value:_ctx.partner.siret,col:"col-12 col-md-4",icon:"stamp",label:"Siret",name:"siret",required:"","onUpdate:value":_cache[1]||(_cache[1]=function(event){return _ctx.partner.siret=event})},null,8,["errors","value"])]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,"option-items":_ctx.activities,value:_ctx.partner.activityId,icon:"chart-network",label:"Domaine d'activité",name:"activityId","option-field":"id","option-label":"label",required:"",row:"",select:"","onUpdate:value":_cache[2]||(_cache[2]=function(event){return _ctx.partner.activityId=event})},null,8,["errors","option-items","value"]),_ctx.subActivitiesVisible?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_row,{key:0,class:"mb-4 col-12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_title,{class:"h6-responsive",h6:""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_1]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[((0,runtime_core_esm_bundler.wg)(true),(0,runtime_core_esm_bundler.iD)(runtime_core_esm_bundler.HY,null,(0,runtime_core_esm_bundler.Ko)(_ctx.activity.activities,(function(subActivity){var _ctx$partner$activiti;return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_subdomain_checkbox,{activity:subActivity,selected:(_ctx$partner$activiti=_ctx.partner.activities)===null||_ctx$partner$activiti===void 0?void 0:_ctx$partner$activiti.includes(subActivity.id),onSelect:_ctx.onSubDomainSelect,class:"mx-auto",onUnselect:_ctx.onSubDomainUnselect},null,8,["activity","selected","onSelect","onUnselect"])})),256))]})),_:1})]})),_:1})]})),_:1})):(0,runtime_core_esm_bundler.kq)("",true),(0,runtime_core_esm_bundler.Wm)(_component_qrcp_input,{errors:_ctx.errors,"option-items":_ctx.activities,value:_ctx.partner.description,icon:"text",label:"Description",name:"description",required:"",row:"",textarea:"","onUpdate:value":_cache[3]||(_cache[3]=function(event){return _ctx.partner.description=event})},null,8,["errors","option-items","value"]),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_previous_button,{"onPrevious:step":_cache[4]||(_cache[4]=function($event){return _ctx.$emit("previous:step")})})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":"",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_next_button,{"onNext:step":_ctx.next},null,8,["onNext:step"])]})),_:1})]})),_:1})]})),_:1})}var asyncToGenerator=__webpack_require__(48534);var regenerator=__webpack_require__(19298);var regenerator_default=__webpack_require__.n(regenerator);var activities=__webpack_require__(42116);var partner=__webpack_require__(15891);var next_button=__webpack_require__(91964);var previous_button=__webpack_require__(23504);var qrcp_input=__webpack_require__(35396);var validation=__webpack_require__(81909);var activity_module=__webpack_require__(91325);var subdomain_checkbox=__webpack_require__(38001);var lodash=__webpack_require__(96486);var company_informationsvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"company-informations",components:{SubdomainCheckbox:subdomain_checkbox["default"],QrcpInput:qrcp_input.Z,PreviousButton:previous_button["default"],NextButton:next_button["default"]},props:{partner:{type:partner.Z,required:true},errors:{type:Array,required:true}},emits:["next:step","previous:step","has:error"],setup:function setup(props,_ref){var emit=_ref.emit;(0,runtime_core_esm_bundler.wF)((function(){return(0,activities.i)()}));var _useActivity=(0,activity_module.X)(),activity=_useActivity.activity,fetchActivityById=_useActivity.fetchActivityById;var next=function next(){var result=(0,validation.sC)({companyName:props.partner.companyName,siret:props.partner.siret,activityId:props.partner.activityId,description:props.partner.description});return result.valid?emit("next:step"):emit("has:error",{error:result.error,errors:result.errors})};(0,runtime_core_esm_bundler.YP)((function(){return props.partner.activityId}),function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(value){return regenerator_default().wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!value){_context.next=6;break}_context.next=3;return fetchActivityById(props.partner.activityId).catch((function(){return null}));case 3:_context.t0=activity.value=_context.sent;_context.next=7;break;case 6:_context.t0=null;case 7:return _context.abrupt("return",_context.t0);case 8:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}(),{immediate:true});var subActivitiesVisible=(0,runtime_core_esm_bundler.Fl)((function(){return props.partner.activityId&&activity.value&&activity.value.activities&&activity.value.activities.length}));var onSubDomainSelect=function onSubDomainSelect(subDomainId){if(!props.partner.activities){props.partner.activities=[]}return(0,lodash.includes)(props.partner.activities,subDomainId)?null:props.partner.activities.push(subDomainId)};var onSubDomainUnselect=function onSubDomainUnselect(subDomainId){if(!props.partner.activities){props.partner.activities=[]}if((0,lodash.includes)(props.partner.activities,subDomainId)){props.partner.activities=(0,lodash.filter)(props.partner.activities,(function(item){return item!==subDomainId}))}};return{activities:activities.t,next:next,activity:activity,subActivitiesVisible:subActivitiesVisible,onSubDomainSelect:onSubDomainSelect,onSubDomainUnselect:onSubDomainUnselect}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(company_informationsvue_type_script_lang_ts,[["render",render]]);var company_informations=__exports__},91964:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return next_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var _hoisted_1=(0,runtime_core_esm_bundler.Uk)(" suivant ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-right",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",{class:"btn color-2 text-white px-0",type:"button",onClick:_cache[0]||(_cache[0]=function(){return _ctx.next&&_ctx.next.apply(_ctx,arguments)})},[_hoisted_1,(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-right",light:""})])]})),_:1})]})),_:1})}var next_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"next-button",emits:["next:step"],setup:function setup(props,_ref){var emit=_ref.emit;var next=function next(){return emit("next:step")};return{next:next}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(next_buttonvue_type_script_lang_ts,[["render",render]]);var next_button=__exports__},23504:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return previous_button}});var runtime_core_esm_bundler=__webpack_require__(66252);var _hoisted_1=(0,runtime_core_esm_bundler.Uk)(" précédent ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-left",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",{class:"btn color-1 text-white px-0",type:"button",onClick:_cache[0]||(_cache[0]=function(){return _ctx.previous&&_ctx.previous.apply(_ctx,arguments)})},[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"arrow-to-left",light:""}),_hoisted_1])]})),_:1})]})),_:1})}var previous_buttonvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"previous-button",emits:["previous:step"],setup:function setup(props,_ref){var emit=_ref.emit;var previous=function previous(){return emit("previous:step")};return{previous:previous}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(previous_buttonvue_type_script_lang_ts,[["render",render]]);var previous_button=__exports__},38001:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return subdomain_checkbox}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{class:(0,shared_esm_bundler.C_)([{"bg-color-2 text-white":_ctx.isSelected},"box-item px-2 cursor-pointer"]),name:"subdomain-checkbox","not-full":"",onClick:_ctx.toggleSelected},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.activity.label),1)]})),_:1},8,["class","onClick"])}var objectSpread2=__webpack_require__(95082);var reactivity_esm_bundler=__webpack_require__(2262);var activity=__webpack_require__(16153);var subdomain_checkboxvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"subdomain-checkbox",props:{activity:{type:activity.Z,required:true},selected:{type:Boolean,required:false,default:false}},emits:["select","unselect"],setup:function setup(props,_ref){var emit=_ref.emit;var _ref2=function(){var state=(0,reactivity_esm_bundler.qj)({selected:false});var setSelected=function setSelected(value){state.selected=value;emit(state.selected?"select":"unselect",props.activity.id)};return(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,reactivity_esm_bundler.BK)(state)),{},{toggleSelected:function toggleSelected(){return setSelected(!state.selected)},setSelected:setSelected})}(),selected=_ref2.selected,toggleSelected=_ref2.toggleSelected,setSelected=_ref2.setSelected;var isSelected=(0,runtime_core_esm_bundler.Fl)((function(){return props.selected===true&&selected.value}));(0,runtime_core_esm_bundler.YP)((function(){return props.selected}),(function(){return setSelected(props.selected===true)}),{immediate:true});return{isSelected:isSelected,toggleSelected:toggleSelected}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(subdomain_checkboxvue_type_script_lang_ts,[["render",render]]);var subdomain_checkbox=__exports__}}]);