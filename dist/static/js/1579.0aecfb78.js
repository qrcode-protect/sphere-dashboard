"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[1579],{42116:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{i:function(){return fetchActivities},t:function(){return activities}});var _app_vue_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7280);var _vue_reactivity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2262);var activities=(0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_1__.Fl)((function(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters["activity/activities"]}));var fetchActivities=function fetchActivities(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(force===true||activities.value===null){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("activity/fetchAll")}return null}},61579:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return modal_recap}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var _hoisted_1={key:0,class:"fa-ul"};var _hoisted_2={class:"fa-li"};var _hoisted_3=(0,runtime_core_esm_bundler.Uk)("Aucun");var _hoisted_4=(0,runtime_core_esm_bundler.Uk)(" KBIS ");var _hoisted_5=(0,runtime_core_esm_bundler.Uk)(" Avatar ");var _hoisted_6=(0,runtime_core_esm_bundler.Uk)(" valider ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_text=(0,runtime_core_esm_bundler.up)("ssf-text");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");var _component_ssf_modal=(0,runtime_core_esm_bundler.up)("ssf-modal");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_modal,{modelValue:_ctx.visible,"onUpdate:modelValue":_cache[1]||(_cache[1]=function($event){return _ctx.visible=$event}),name:_ctx.modalName,attach:"#app","body-classes":"p-5 border-0",classes:"modal-container modal-recap-partner","content-class":"modal-content z-depth-1 full-flex modal-data-information rounded mx-auto","fit-parent":"","footer-classes":"p-2 border-0 align-flex","header-classes":"pt-4 d-block border-0","lock-scroll":"",scrollable:"",onBeforeClose:_ctx.closeModal},{body:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[((0,runtime_core_esm_bundler.wg)(true),(0,runtime_core_esm_bundler.iD)(runtime_core_esm_bundler.HY,null,(0,runtime_core_esm_bundler.Ko)(_ctx.itemKeys,(function(itemKey){return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_row,{class:"py-1"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"5",style:{"font-weight":"600"}},{default:(0,runtime_core_esm_bundler.w5)((function(){var _ctx$partner$attribut;return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)((_ctx$partner$attribut=_ctx.partner.attributes[itemKey].comment)!==null&&_ctx$partner$attribut!==void 0?_ctx$partner$attribut:itemKey),1)]})),_:2},1024),itemKey==="activities"?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_col,{key:0,size:"7"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_ctx.subDomains&&_ctx.subDomains.length?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.iD)("ul",_hoisted_1,[((0,runtime_core_esm_bundler.wg)(true),(0,runtime_core_esm_bundler.iD)(runtime_core_esm_bundler.HY,null,(0,runtime_core_esm_bundler.Ko)(_ctx.subDomains,(function(subDomain){var _subDomain$label;return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.iD)("li",null,[(0,runtime_core_esm_bundler._)("span",_hoisted_2,[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"circle-arrow-right",light:"",size:"sm"})]),(0,runtime_core_esm_bundler.Uk)(" "+(0,shared_esm_bundler.zw)((_subDomain$label=subDomain.label)!==null&&_subDomain$label!==void 0?_subDomain$label:"N/D"),1)])})),256))])):((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_text,{key:1},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_3]})),_:1}))]})),_:1})):((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_col,{key:1,size:"7"},{default:(0,runtime_core_esm_bundler.w5)((function(){var _ctx$activity$label;return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(itemKey==="activityId"?(_ctx$activity$label=_ctx.activity.label)!==null&&_ctx$activity$label!==void 0?_ctx$activity$label:"N/D":_ctx.partner[itemKey].substring(0,80)),1)]})),_:2},1024))]})),_:2},1024)})),256)),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,{class:"py-1"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"5",style:{"font-weight":"600"}},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_4]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"7"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.partner.certificate.name),1)]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,{class:"py-1"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"5",style:{"font-weight":"600"}},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_5]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"7"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.partner.avatar.name),1)]})),_:1})]})),_:1})]})),_:1})]})),footer:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-center",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler._)("button",{class:"btn bg-color-2 text-white",onClick:_cache[0]||(_cache[0]=function(){return _ctx.save&&_ctx.save.apply(_ctx,arguments)})},[_hoisted_6,(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{class:"ml-1",icon:"floppy-disk-circle-arrow-right",light:""})])]})),_:1})]})),_:1})]})),_:1},8,["modelValue","name","onBeforeClose"])}var asyncToGenerator=__webpack_require__(48534);var regenerator=__webpack_require__(19298);var regenerator_default=__webpack_require__.n(regenerator);var reactivity_esm_bundler=__webpack_require__(2262);var partner=__webpack_require__(15891);var activities=__webpack_require__(42116);var lodash=__webpack_require__(96486);var modal_recapvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"modal-recap",props:{modalName:{type:String,required:false,default:"modal-recap"},open:{type:Boolean,required:false,default:false},partner:{type:partner.Z,required:true}},emits:["save","close"],setup:function setup(props,_ref){var emit=_ref.emit;var visible=(0,reactivity_esm_bundler.iH)(false);var activity=(0,runtime_core_esm_bundler.Fl)((function(){return(0,lodash.find)(activities.t.value,(function(item){return item.id===props.partner.activityId}))}));var subDomains=(0,runtime_core_esm_bundler.Fl)((function(){return activity.value?(0,lodash.filter)(activity.value.activities,(function(item){return(0,lodash.includes)(props.partner.activities,item.id)})):[]}));var save=function save(){return emit("save")};var closeModal=function closeModal(){return emit("close")};(0,runtime_core_esm_bundler.bv)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,activities.i)(true);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)}))));(0,runtime_core_esm_bundler.YP)((function(){return props.open}),(function(){return visible.value=props.open}),{immediate:true});return{visible:visible,activity:activity,subDomains:subDomains,save:save,closeModal:closeModal}},data:function data(){return{itemKeys:["lastname","firstname","email","phone","companyName","siret","activityId","activities","description"]}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(modal_recapvue_type_script_lang_ts,[["render",render]]);var modal_recap=__exports__}}]);