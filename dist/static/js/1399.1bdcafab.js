"use strict";(self["webpackChunksphere_dashboard"]=self["webpackChunksphere_dashboard"]||[]).push([[1399],{76645:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ae:function(){return clearQuotes},Fe:function(){return useQuote},LM:function(){return selectQuote},R0:function(){return fetchExpiredQuotes},S8:function(){return fetchDeclinedQuotes},js:function(){return fetchAcceptedQuotes},kp:function(){return fetchPendingQuotes},mW:function(){return quote},mh:function(){return quotes}});var vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(66252);var _app_vue_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7280);var vuex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33907);var fetchPendingQuotes=function fetchPendingQuotes(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("quote/fetchPending")};var fetchExpiredQuotes=function fetchExpiredQuotes(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("quote/fetchExpired")};var fetchDeclinedQuotes=function fetchDeclinedQuotes(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("quote/fetchDeclined")};var fetchAcceptedQuotes=function fetchAcceptedQuotes(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.dispatch("quote/fetchAccepted")};var quotes=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Fl)({get:function get(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters["quote/quotes"]},set:function set(value){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.commit("quote/SET_QUOTES",value)}});var quote=(0,vue__WEBPACK_IMPORTED_MODULE_1__.Fl)({get:function get(){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.getters["quote/quote"]},set:function set(value){return _app_vue_store__WEBPACK_IMPORTED_MODULE_0__.Z.commit("quote/SET_QUOTE",value)}});var selectQuote=function selectQuote(_quote){return quote.value=_quote};var clearQuotes=function clearQuotes(){return quotes.value=null};var useQuote=function useQuote(){var store=(0,vuex__WEBPACK_IMPORTED_MODULE_2__.oR)();return{quote:quote,searchQuote:function searchQuote(query){return store.dispatch("quote/search",{query:query})},fetchPendingQuotes:fetchPendingQuotes}}},67971:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return quote_file_item}});var runtime_core_esm_bundler=__webpack_require__(66252);var shared_esm_bundler=__webpack_require__(3577);var _withScopeId=function _withScopeId(n){return _pushScopeId("data-v-0395f554"),n=n(),_popScopeId(),n};var _hoisted_1=(0,runtime_core_esm_bundler.Uk)("Fournisseur");var _hoisted_2=(0,runtime_core_esm_bundler.Uk)("Adhérent");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_ssf_text=(0,runtime_core_esm_bundler.up)("ssf-text");var _component_ssf_shape=(0,runtime_core_esm_bundler.up)("ssf-shape");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_icon=(0,runtime_core_esm_bundler.up)("ssf-icon");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_quote_file_line=(0,runtime_core_esm_bundler.up)("quote-file-line");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{center:"",class:(0,shared_esm_bundler.C_)(["box-item",{"bg-color-1-lighten text-white":_ctx.selectedQuote&&_ctx.quote&&_ctx.selectedQuote.id===_ctx.quote.id}]),name:"quote-file-item","not-full":""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,{class:"pt-2 pr-2"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_ctx.memberLastname?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_shape,{key:0,center:"",class:"bg-color-1-lighten rounded-light",size:"30"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_text,{class:"font-weight-bold color-1"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.memberLastname[0]),1)]})),_:1})]})),_:1})):(0,runtime_core_esm_bundler.kq)("",true)]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-right",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_shape,{class:"cursor-pointer ml-auto text-right",size:"20",onClick:_ctx.selectQuote},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_icon,{icon:"ellipsis-h"})]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,{class:"py-2 py-md-3"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-center",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_ctx.filename?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_icon,{key:0,icon:_ctx.fileIcon,class:"color-1",duotone:"",size:"3x"},null,8,["icon"])):(0,runtime_core_esm_bundler.kq)("",true)]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"small pb-2"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,{class:"py-3"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-center",size:"12"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_text,{class:"mb-0",style:{overflow:"hidden","text-overflow":"ellipsis"},tag:"p"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.filename),1)]})),_:1})]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_quote_file_line),(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-left",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_text,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_1]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"secondary-item-small font-weight-bold"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.partnerLastname),1)]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{class:"text-right",size:"6"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_text,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_2]})),_:1})]})),_:1}),(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{class:"secondary-item-small font-weight-bold"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Uk)((0,shared_esm_bundler.zw)(_ctx.memberLastname),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["class"])}var asyncToGenerator=__webpack_require__(48534);var regenerator=__webpack_require__(19298);var regenerator_default=__webpack_require__.n(regenerator);var reactivity_esm_bundler=__webpack_require__(2262);var popper_esm=__webpack_require__(51595);var quote=__webpack_require__(51156);var file=__webpack_require__(8121);var quote_file_line=__webpack_require__(11843);var utils=__webpack_require__(76645);var quote_file_itemvue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"quote-file-item",props:{quote:{type:quote.Z,required:true}},components:{QuoteFileLine:quote_file_line["default"],VuePopper:popper_esm.Z},emits:["select-quote"],setup:function setup(props,_ref){var emit=_ref.emit;var fileInfo=(0,reactivity_esm_bundler.qj)({metadata:(0,reactivity_esm_bundler.iH)(null),mimeType:(0,reactivity_esm_bundler.iH)(null),filename:(0,reactivity_esm_bundler.iH)(null),filesize:(0,reactivity_esm_bundler.iH)(null)});var mimeType=(0,runtime_core_esm_bundler.Fl)((function(){return fileInfo.mimeType}));var filename=(0,runtime_core_esm_bundler.Fl)((function(){var _props$quote$member$c,_props$quote$member,_props$quote$member$c2;return"DEVIS_".concat((_props$quote$member$c=(_props$quote$member=props.quote.member)===null||_props$quote$member===void 0?void 0:(_props$quote$member$c2=_props$quote$member.companyName)===null||_props$quote$member$c2===void 0?void 0:_props$quote$member$c2.toUpperCase())!==null&&_props$quote$member$c!==void 0?_props$quote$member$c:"","_#").concat(props.quote.created.format("DDMMYYHHmmss").toUpperCase()).concat((0,file.AO)(fileInfo.filename,true))}));var filesize=(0,runtime_core_esm_bundler.Fl)((function(){return(0,file.Cf)(fileInfo.filesize)}));var fileIcon=(0,runtime_core_esm_bundler.Fl)((function(){return(0,file.Rb)(fileInfo.filename)}));var memberLastname=(0,runtime_core_esm_bundler.Fl)((function(){var _props$quote$member$c3,_props$quote$member2,_props$quote$member2$;return(_props$quote$member$c3=(_props$quote$member2=props.quote.member)===null||_props$quote$member2===void 0?void 0:(_props$quote$member2$=_props$quote$member2.companyName)===null||_props$quote$member2$===void 0?void 0:_props$quote$member2$.toUpperCase())!==null&&_props$quote$member$c3!==void 0?_props$quote$member$c3:""}));var partnerLastname=(0,runtime_core_esm_bundler.Fl)((function(){var _props$quote$partner$,_props$quote$partner,_props$quote$partner$2;return(_props$quote$partner$=(_props$quote$partner=props.quote.partner)===null||_props$quote$partner===void 0?void 0:(_props$quote$partner$2=_props$quote$partner.companyName)===null||_props$quote$partner$2===void 0?void 0:_props$quote$partner$2.toUpperCase())!==null&&_props$quote$partner$!==void 0?_props$quote$partner$:""}));(0,runtime_core_esm_bundler.bv)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return file.IT.metadata(props.quote.file);case 2:fileInfo.metadata=_context.sent;_context.next=5;return file.IT.mimeType(props.quote.file,fileInfo.metadata);case 5:fileInfo.mimeType=_context.sent;_context.next=8;return file.IT.filename(props.quote.file,fileInfo.metadata);case 8:fileInfo.filename=_context.sent;_context.next=11;return file.IT.filesize(props.quote.file,fileInfo.metadata);case 11:fileInfo.filesize=_context.sent;case 12:case"end":return _context.stop()}}}),_callee)}))));var _useQuote=(0,utils.Fe)(),selectedQuote=_useQuote.quote;return{selectQuote:function selectQuote(){return emit("select-quote",props.quote)},selectedQuote:selectedQuote,filename:filename,fileIcon:fileIcon,filesize:filesize,memberLastname:memberLastname,partnerLastname:partnerLastname}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(quote_file_itemvue_type_script_lang_ts,[["render",render],["__scopeId","data-v-0395f554"]]);var quote_file_item=__exports__},51399:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{default:function(){return quote_page}});var runtime_core_esm_bundler=__webpack_require__(66252);var _withScopeId=function _withScopeId(n){return _pushScopeId("data-v-12a4680a"),n=n(),_popScopeId(),n};var _hoisted_1=(0,runtime_core_esm_bundler.Uk)(" Aucune donnée... ");function render(_ctx,_cache,$props,$setup,$data,$options){var _component_quote_file_item=(0,runtime_core_esm_bundler.up)("quote-file-item");var _component_ssf_col=(0,runtime_core_esm_bundler.up)("ssf-col");var _component_ssf_row=(0,runtime_core_esm_bundler.up)("ssf-row");var _component_quote_file_detail=(0,runtime_core_esm_bundler.up)("quote-file-detail");var _component_ssf_container=(0,runtime_core_esm_bundler.up)("ssf-container");var _component_ssf_title=(0,runtime_core_esm_bundler.up)("ssf-title");return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{class:"box-ite",name:"quotes-page","no-padding":""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_ctx.quotes&&_ctx.quotes.length?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_row,{key:0},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_col,{"no-padding":""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_row,null,{default:(0,runtime_core_esm_bundler.w5)((function(){return[((0,runtime_core_esm_bundler.wg)(true),(0,runtime_core_esm_bundler.iD)(runtime_core_esm_bundler.HY,null,(0,runtime_core_esm_bundler.Ko)(_ctx.quotes,(function(quote){return(0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_col,{class:"py-3","max-width":"305"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[quote?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_quote_file_item,{key:0,quote:quote,onSelectQuote:function onSelectQuote(_quote){return _ctx.selectQuote(_quote!==null&&_quote!==void 0?_quote:quote)}},null,8,["quote","onSelectQuote"])):(0,runtime_core_esm_bundler.kq)("",true)]})),_:2},1024)})),256))]})),_:1})]})),_:1}),_ctx.quote?((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_col,{key:0,"max-width":"300",class:"py-3 quote-item-box"},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_container,{"full-flex":"","not-full":"",class:"position-sticky h-auto",style:{right:"20px",top:"0",bottom:"0"}},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_quote_file_detail,{quote:_ctx.quote,onClose:_cache[0]||(_cache[0]=function($event){return _ctx.selectQuote(null)})},null,8,["quote"])]})),_:1})]})),_:1})):(0,runtime_core_esm_bundler.kq)("",true)]})),_:1})):((0,runtime_core_esm_bundler.wg)(),(0,runtime_core_esm_bundler.j4)(_component_ssf_container,{key:1,class:"py-3","full-flex":""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[(0,runtime_core_esm_bundler.Wm)(_component_ssf_title,{class:"secondary-item",h5:""},{default:(0,runtime_core_esm_bundler.w5)((function(){return[_hoisted_1]})),_:1})]})),_:1}))]})),_:1})}var quote_file_item=__webpack_require__(67971);var quote_file_detail=__webpack_require__(82062);var utils=__webpack_require__(76645);var vue3_framework_utils=__webpack_require__(95291);var quote_pagevue_type_script_lang_ts=(0,runtime_core_esm_bundler.aZ)({name:"quotes-page",components:{QuoteFileDetail:quote_file_detail["default"],QuoteFileItem:quote_file_item["default"]},props:{quotes:{type:[Array,null],required:true}},setup:function setup(props){var hasQuote=(0,runtime_core_esm_bundler.Fl)((function(){return utils.mW.value&&(0,vue3_framework_utils.ri)(utils.mW.value)}));return{selectQuote:utils.LM,quote:utils.mW,hasQuote:hasQuote}}});var exportHelper=__webpack_require__(83744);const __exports__=(0,exportHelper.Z)(quote_pagevue_type_script_lang_ts,[["render",render],["__scopeId","data-v-12a4680a"]]);var quote_page=__exports__}}]);